---
layout: default
title: صفحه اصلی
nav_order: 1
description: "راهنمای کامل مهندسی پرامپت"
permalink: /
---

# راهنمای جامع مهندسی پرامپت
*بر اساس کتاب Prompt Engineering نوشته Lee Boonstra از گوگل*

[نگارش و تدوین: آیسان نظرمحمدی]

---

# راهنمای جامع مهندسی پرامپت
*بر اساس کتاب Prompt Engineering نوشته Lee Boonstra از گوگل*

[تدوین و بهبود: آیسان نظرمحمدی]

---

## 📖 فهرست مطالب

1. [مقدمه: مهندسی پرامپت چیست؟](#مقدمه)
2. [تنظیمات پایه هوش مصنوعی](#تنظیمات-پایه)
3. [تکنیک‌های مختلف نوشتن پرامپت](#تکنیک‌های-مختلف)
4. [کار با کد](#کار-با-کد)
5. [بهترین روش‌های کاری](#بهترین-روش‌ها)
6. [سوال‌های متداول](#سوالات-متداول)

7. 
## 1. مقدمه(#مقدمه): مهندسی پرامپت چیست؟

### تعریف ساده
**مهندسی پرامپت** یعنی طراحی پیام‌هایی که به هوش مصنوعی می‌دهیم تا بهترین جواب را از آن بگیریم. مثل این است که بدانیم چطور با یک متخصص حرف بزنیم تا بهترین راهنمایی را دریافت کنیم.

### چرا مهم است؟
- همه می‌توانند پرامپت بنویسند (نیازی به تخصص فنی نیست)
- با تمرین و آزمون‌وخطا بهتر می‌شود
- کیفیت پرامپت مستقیماً روی کیفیت پاسخ تأثیر می‌گذارد

---

## 2. تنظیمات پایه هوش مصنوعی (#تنظیمات-پایه)

قبل از نوشتن پرامپت، باید تنظیمات هوش مصنوعی را بشناسیم:

### 2.1 طول خروجی
- **تعداد توکن**: هر کلمه یا قسمت از کلمه یک توکن است
- **نکته مهم**: محدود کردن طول، متن را کوتاه نمی‌کند، بلکه ناگهان متوقفش می‌کند
- **توصیه**: طول مناسب را از قبل تعیین کنید

### 2.2 کنترل تصادفی بودن پاسخ‌ها

#### Temperature (درجه خلاقیت)
- **مقیاس**: 0 تا 1
- **صفر**: پاسخ‌های دقیق و یکسان (مناسب ریاضی)
- **نزدیک به یک**: پاسخ‌های خلاقانه و متنوع (مناسب نوشتن داستان)

**مثال عملی:**
- برای حل مسائل ریاضی: Temperature = 0
- برای نوشتن شعر: Temperature = 0.9

#### Top-K (انتخاب از بهترین‌ها)
- از K کلمه محتمل، یکی را انتخاب می‌کند
- Top-K = 1: همیشه بهترین گزینه (مثل Temperature = 0)
- Top-K بالاتر: پاسخ‌های متنوع‌تر

#### Top-P (انتخاب درصدی)
- از کلماتی که مجموع احتمالشان از P درصد کمتر است انتخاب می‌کند
- Top-P = 0: فقط بهترین گزینه
- Top-P = 1: از تمام کلمات ممکن

### 2.3 تنظیمات پیشنهادی
```
متعادل: Temperature=0.2, Top-P=0.95, Top-K=30
خلاقانه: Temperature=0.9, Top-P=0.99, Top-K=40
محافظه‌کارانه: Temperature=0.1, Top-P=0.9, Top-K=20
```

---

## 3. تکنیک‌های مختلف نوشتن پرامپت (#تکنیک‌های-مختلف)

### 3.1 پرامپت ساده (Zero-Shot)
**تعریف**: سادهترین نوع - فقط سوال بدون مثال

**مثال:**
```
فیلم‌های زیر را مثبت، منفی یا خنثی طبقه‌بندی کن:
"فیلم Her مطالعه تأثیرگذاری از آینده بشریت است"
احساس:
```

### 3.2 پرامپت با مثال (Few-Shot)
**تعریف**: چند مثال می‌دهیم تا الگو را یاد بگیرد

**تعداد مثال پیشنهادی**: 3 تا 5 مثال
**نکته مهم**: مثال‌ها باید متنوع، با کیفیت و مرتبط باشند

**مثال:**
```
سفارش پیتزا را به JSON تبدیل کن:

مثال:
"یک پیتزا کوچک با پنیر و قارچ می‌خوام"
```json
{
  "اندازه": "کوچک",
  "مواد": ["پنیر", "قارچ"]
}
```

حالا این را تبدیل کن:
"یک پیتزا بزرگ با نصف پپرونی و نصف سبزیجات"
```

### 3.3 تعیین نقش (Role Prompting)
**هدف**: به هوش مصنوعی نقش مشخص می‌دهیم

**مثال:**
```
نقش یک راهنمای سفر را بازی کن.
3 جای دیدنی در آمستردام پیشنهاد بده.
```

**سبک‌های مختلف نقش‌آفرینی:**
- رسمی، غیررسمی، شوخ‌طبعانه، الهام‌بخش، متقاعدکننده

### 3.4 ارائه زمینه (Contextual Prompting)
**هدف**: اطلاعات پیش‌زمینه مشخص ارائه می‌دهیم

**مثال:**
```
زمینه: برای وبلاگی درباره بازی‌های آرکید دهه 80 می‌نویسی.
3 موضوع برای مقاله پیشنهاد بده.
```

### 3.5 قدم به عقب (Step-back Prompting)
**روش**: ابتدا سوال کلی‌تر می‌پرسیم، سپس به مسئله اصلی می‌پردازیم

**مزایا:**
- فعال کردن دانش پیش‌زمینه
- کاهش تعصب
- بهبود دقت

### 3.6 زنجیره تفکر (Chain of Thought)
**تعریف**: از هوش مصنوعی می‌خواهیم مراحل حل مسئله را نشان دهد

**کلید جادویی**: "قدم به قدم فکر کن"

**مثال:**
```
وقتی 3 ساله بودم، شریک زندگی‌ام 3 برابر سن من بود. 
حالا 20 ساله‌ام. شریکم چند ساله است؟
قدم به قدم فکر کن.
```

**مزایا:**
- دقت بیشتر در ریاضی
- قابلیت بررسی مراحل
- استحکام بهتر

**تنظیم**: Temperature = 0

### 3.7 خودسازگاری (Self-Consistency)
**روش:**
1. چندین مسیر استدالل مختلف تولید کن
2. جواب هر کدام را استخراج کن  
3. رایج‌ترین جواب را انتخاب کن

**نکته**: هزینه محاسباتی بالا دارد

### 3.8 درخت تفکرات (Tree of Thoughts)
**ویژگی**: امکان بررسی چندین مسیر استدالل همزمان
**کاربرد**: مسائل پیچیده که نیاز به کاوش دارند

### 3.9 تفکر و عمل (ReAct)
**ترکیب**: استدالل + ابزارهای خارجی (جستجو، محاسبه)

**مراحل:**
1. درباره مسئله فکر کن
2. اقدام عملی انجام بده (جستجو کن)
3. نتایج را مشاهده کن
4. استدالل را بروزرسانی کن

### 3.10 مهندسی خودکار پرامپت (APE)
**روش:**
1. پرامپت‌های مختلف تولید کن
2. آنها را ارزیابی کن
3. بهترین را انتخاب کن

---

## 4. کار با کد (#کار-با-کد)

### 4.1 نوشتن کد
**مثال:**
```
یک اسکریپت Bash بنویس که:
1. نام پوشه‌ای را بپرسد
2. تمام فایل‌های داخل آن را پیدا کند
3. به ابتدای نام هر فایل کلمه "draft" اضافه کند
```

### 4.2 توضیح کد
```
این کد Bash را توضیح بده:
#!/bin/bash
echo "نام پوشه را وارد کن: "
read folder_name
[کد باقی‌مانده...]
```

### 4.3 ترجمه کد
```
این کد Bash را به Python ترجمه کن:
[کد Bash...]
```

### 4.4 رفع اشکال
```
این کد Python خطا می‌دهد:
[کد خطادار...]
خطا را پیدا کن و راه حل پیشنهاد بده.
```

---

## 5. بهترین روش‌های کاری (#بهترین-روش‌ها)

### 5.1 ارائه مثال (مهم‌ترین نکته!)
- همیشه مثال بدهید
- مثال‌ها متنوع و مرتبط باشند
- کیفیت مثال‌ها اهمیت بالایی دارد

### 5.2 ساده نوشتن
**اصل طلایی**: اگر برای شما گیج‌کننده است، برای هوش مصنوعی هم گیج‌کننده خواهد بود.

**قبل:**
```
من در نیویورک هستم و می‌خواهم مکان‌های جالب بدانم. دو بچه 3 ساله دارم. کجا برویم؟
```

**بعد:**
```
نقش راهنمای سفر را بازی کن. مکان‌های مناسب کودک 3 ساله در منهتن نیویورک معرفی کن.
```

### 5.3 مشخص بودن خروجی
**درست ✅:**
```
یک مقاله 3 پاراگرافی درباره 5 کنسول بازی برتر بنویس.
سبک: گفت‌وگویی و جذاب
```

**نادرست ❌:**
```
درباره کنسول‌های بازی بنویس.
```

### 5.4 دستورالعمل به جای محدودیت
**درست ✅:**
```
فقط درباره نام کنسول، شرکت سازنده، سال تولید و فروش بنویس.
```

**نادرست ❌:**
```
اسم بازی‌ها را ننویس.
```

### 5.5 استفاده از متغیر
```
متغیرها:
{شهر} = "تهران"

پرامپت:
راهنمای سفری هستی. درباره شهر {شهر} حقیقت جالب بگو.
```

### 5.6 آزمایش فرمت‌های مختلف
- **سوال**: تعداد اعضای گروه متالیکا چند است؟
- **بیانیه**: گروه متالیکا 4 عضو دارد...
- **دستور**: تعداد اعضای گروه متالیکا را بگو...

### 5.7 خروجی ساختاریافته (JSON)
**مزایای JSON:**
- همیشه سبک یکسان
- تمرکز روی داده‌های مورد نیاز  
- کاهش ساختگی‌سازی
- آگاهی از روابط داده‌ها

### 5.8 مستندسازی تلاش‌ها
**فرمت پیشنهادی:**
- نام و نسخه پرامپت
- هدف
- مدل و تنظیمات  
- متن کامل پرامپت
- خروجی‌ها
- نتیجه (موفق/ناموفق)

---

## 6. سوال‌های متداول (#سوالات-متداول)

### Temperature، Top-K و Top-P چه تفاوتی دارند؟
- **Temperature**: میزان تصادفی بودن انتخاب کلمه
- **Top-K**: انتخاب از K کلمه برتر
- **Top-P**: انتخاب کلماتی که مجموع احتمالشان از P کمتر است

### کی از زنجیره تفکر استفاده کنیم؟
- مسائل ریاضی
- مسائل استدلالی پیچیده
- هر کاری که با "صحبت کردن" قابل حل است
- تولید کد (تقسیم به مراحل)

### چرا Few-Shot بهتر از Zero-Shot است؟
- ارائه الگو برای تقلید
- بهبود دقت، سبک و لحن
- کاهش ابهام در خروجی مورد انتظار

### مشکل تکرار را چطور حل کنیم؟
- تنظیم دقیق Temperature
- تعادل بین Top-P و Top-K
- جلوگیری از تنظیمات افراطی

### کدام تکنیک برای کدنویسی مناسب است؟
- **نوشتن کد**: Few-shot + مثال‌های واضح
- **توضیح کد**: Zero-shot + درخواست ساختاریافته  
- **ترجمه کد**: Few-shot + مثال معادل
- **رفع اشکال**: Chain of Thought + توضیح گام‌به‌گام

### کی از Self-Consistency استفاده کنیم؟
- مسائل طبقه‌بندی پیچیده
- زمانی که نیاز به اطمینان بالا داریم
- مسائل با پاسخ‌های مبهم
- **نکته**: هزینه محاسباتی بالا دارد

### تفاوت System و Role Prompting چیست؟
- **System**: تنظیم هدف کلی و قابلیت‌های بنیادی
- **Role**: تعیین شخصیت و سبک خروجی
- **ترکیب**: می‌توان هر دو را همزمان استفاده کرد

### کیفیت پرامپت‌ها را چطور ارزیابی کنیم؟
- آزمایش با مدل‌های مختلف
- مقایسه خروجی‌ها
- استفاده از معیارهای BLEU یا ROUGE
- مستندسازی نتایج
- آزمایش‌های خودکار

### ترتیب مثال‌ها در Few-Shot مهم است؟
- **به طور کلی**: خیر
- **در طبقه‌بندی**: بله، کلاس‌ها را مخلوط کنید
- **توصیه**: شروع با 6 مثال

### کی از ReAct استفاده کنیم؟
- نیاز به جستجوی اطلاعات
- تعامل با APIهای خارجی  
- مسائل چندمرحله‌ای
- کارهای تحلیلی پیچیده

---

## 7. نکات کاربردی برای شروع

### برای مبتدیان:
1. **شروع ساده**: با Zero-shot شروع کنید
2. **اضافه کردن مثال**: اگر نتیجه خوب نبود، Few-shot امتحان کنید
3. **تنظیم دما**: برای کارهای دقیق Temperature=0، برای خلاقیت Temperature=0.7-0.9

### برای کاربران متوسط:
1. **ترکیب تکنیک‌ها**: Role + Context + Few-shot
2. **استفاده از JSON**: برای خروجی‌های ساختاریافته
3. **آزمایش مداوم**: همان پرامپت را چندبار تست کنید

### برای کاربران پیشرفته:
1. **Chain of Thought**: برای مسائل پیچیده
2. **Self-Consistency**: برای اطمینان بالا
3. **ReAct**: برای کارهای تحقیقاتی

---

## نتیجه‌گیری

مهندسی پرامپت هنری است که با تمرین بهتر می‌شود. کلید موفقیت:
- **صبر و تکرار**: خیلی تست کنید
- **مستندسازی**: تجربیاتتان را یادداشت کنید  
- **یادگیری مداوم**: با تکنیک‌های جدید آشنا شوید

**یادتان باشد**: هوش مصنوعی ابزاری قدرتمند است، اما کیفیت خروجی مستقیماً به کیفیت ورودی (پرامپت) شما بستگی دارد!
